<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UsTogether</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Mobile Toggle Button -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Overlay for mobile -->
    <div class="overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <nav class="sidebar position-fixed" style="width: 250px;">
        <div class="logo">
            <i class="fas fa-heart"></i>
            UsTogether
        </div>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link active" href="#" onclick="showView('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    <span data-i18n="dashboard">Tableau de bord</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-view="expenses" onclick="showView('expenses')">
                    <i class="fas fa-receipt"></i> <span data-i18n="expenses">D√©penses</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-view="calendar" onclick="showView('calendar')">
                    <i class="fas fa-calendar-alt"></i> <span data-i18n="calendar">Calendrier</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" onclick="showView('grocery')">
                    <i class="fas fa-shopping-cart"></i>
                    <span data-i18n="grocery">√âpicerie</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" onclick="showView('lists')">
                    <i class="fas fa-list"></i>
                    <span data-i18n="lists">Listes</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#accountModal">
                    <i class="fas fa-user"></i>
                    <span data-i18n="account">Compte</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Custom List Item Modal -->
    <div class="modal fade item-modal" id="customItemModal" tabindex="-1" aria-labelledby="customItemModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customItemModalLabel">
                        <i class="fas fa-edit me-2"></i><span data-i18n="editItem">Modifier l'√©l√©ment</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label" data-i18n="itemName">Nom de l'√©l√©ment</label>
                        <input type="text" class="form-control" id="itemName" placeholder="Nom de l'√©l√©ment">
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label" data-i18n="notes">Notes</label>
                        <div id="quillEditor" class="quill-editor"></div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label" data-i18n="photosDocuments">Photos/Documents</label>
                        <div class="photo-upload-area" onclick="document.getElementById('photoInput').click()">
                            <i class="fas fa-cloud-upload-alt fa-2x text-muted mb-2"></i>
                            <p class="text-muted mb-0" data-i18n="clickToUpload">Cliquez pour t√©l√©charger des fichiers</p>
                            <small class="text-muted" data-i18n="supportedFormats">JPG, PNG, PDF support√©s</small>
                        </div>
                        <input type="file" id="photoInput" multiple accept="image/*,.pdf" style="display: none;" onchange="handleFileUpload(this)">
                        <div class="uploaded-photos" id="uploadedPhotos"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-i18n="cancel">Annuler</button>
                    <button type="button" class="btn btn-red" onclick="saveCustomItem()" data-i18n="saveItem">Sauvegarder l'√©l√©ment</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Account Modal -->
    <div class="modal fade" id="accountModal" tabindex="-1" aria-labelledby="accountModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-gradient-red text-white">
                    <h5 class="modal-title fw-bold" id="accountModalLabel" data-i18n="account">Compte</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-3">
                        <i class="fas fa-user-circle profile-icon text-red-icon"></i>
                        <h6 class="fw-bold mt-2 mb-0" data-i18n="email">Courriel</h6>
                        <p class="form-control-plaintext py-0">peter@example.com</p>
                    </div>

                    <div class="mb-4">
                        <label class="form-label fw-bold" data-i18n="groupId">ID du Groupe (Les Amoureux)</label>
                        <div class="input-group">
                            <input type="text" class="form-control" value="AB123-CD456" readonly>
                            <button class="btn btn-outline-secondary" type="button" onclick="alert('Fonctionnalit√© pas encore impl√©ment√©e.')"><i class="fas fa-copy"></i></button>
                        </div>
                    </div>

                    <div class="mt-2">
                        <label class="form-label fw-bold d-block mb-2" data-i18n="language">Langue</label>
                        <div class="d-flex justify-content-center gap-2">
                            <button type="button" class="btn btn-red rounded-pill px-4" id="lang-fr" onclick="i18n.setLanguage('fr')">Fran√ßais</button>
                            <button type="button" class="btn btn-outline-red rounded-pill px-4" id="lang-en" onclick="i18n.setLanguage('en')">English</button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer bg-light flex-column align-items-stretch pt-2 pb-3">
                    <button type="button" class="btn btn-red w-100" data-i18n="saveChanges">
                        <i class="fas fa-save me-2"></i>Sauvegarder
                    </button>
                    <div class="text-center mt-2">
                        <a href="#" class="text-muted small" data-i18n="logs" onclick="alert('Fonctionnalit√© pas encore impl√©ment√©e.')">Logs</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard View -->
        <div id="dashboard" class="view-section active">
            <div class="row mb-4">
                <div class="col-12">
                    <h1 class="mb-2"><span data-i18n="goodMorning">Bonjour !</span> üëã</h1>
                    <p class="lead text-muted" data-i18n="dashboardSubtitle">Voici ce qui se passe avec vous et votre partenaire aujourd'hui.</p>
                </div>
            </div>

            <!-- Main Content Row -->
            <div class="row">
                <!-- Love Notes Section -->
                <div class="col-lg-5 mb-4">
                    <div class="love-notes-container">
                        <div class="post-it editable-post-it" onclick="editPostIt(this)">
                            <div class="post-it-content" contenteditable="false">N'oublie pas que tu es fantastique ! J'ai h√¢te de te voir ce soir üòò</div>
                            <div class="post-it-author">- Ton Amour ‚ù§Ô∏è</div>
                            <div class="post-it-edit-hint">
                                <i class="fas fa-edit"></i> Cliquez pour modifier
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Events -->
                <div class="col-lg-7 mb-4">
                    <div class="card h-100">
                        <div class="card-header">
                            <span data-i18n="upcomingEvents">Prochains √©v√©nements</span>
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="card-body">
                            <div class="mini-event">
                                <strong>Soir√©e cin√©ma</strong>
                                <br><small>Demain 20h00 - Les deux</small>
                            </div>
                            <div class="mini-event">
                                <strong>D√Æner d'anniversaire</strong>
                                <br><small>Samedi 19h30 - Les deux</small>
                            </div>
                            <div class="mini-event">
                                <strong>Cours de yoga ensemble</strong>
                                <br><small>Lundi 10h00 - Les deux</small>
                            </div>
                            <div class="mini-event">
                                <strong>Week-end romantique</strong>
                                <br><small>Dans 12 jours - Les deux</small>
                            </div>
                            <button class="btn btn-outline-primary btn-sm mt-2" onclick="showView('calendar')" data-i18n="viewFullCalendar">
                                Voir le calendrier complet
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Love Notes Section -->
            <div class="mt-4 d-none d-md-block">
                <div class="row row-cols-2 row-cols-md-4 g-3">
                    <div class="col">
                        <a href="#" class="btn btn-red w-100 h-100 d-flex flex-column align-items-center justify-content-center p-3" onclick="event.preventDefault(); showAddExpenseForm()" style="min-height: 110px;">
                            <i class="fas fa-credit-card fs-4 mb-2"></i>
                            <span class="small text-center" data-i18n="addExpense">Ajouter une d√©pense</span>
                        </a>
                    </div>
                    <div class="col">
                        <a href="#" class="btn btn-red w-100 h-100 d-flex flex-column align-items-center justify-content-center p-3" onclick="event.preventDefault(); showAddTaskForm()" style="min-height: 110px;">
                            <i class="fas fa-tasks fs-4 mb-2"></i>
                            <span class="small text-center" data-i18n="addTask">Ajouter une t√¢che</span>
                        </a>
                    </div>
                    <div class="col">
                        <a href="#" class="btn btn-red w-100 h-100 d-flex flex-column align-items-center justify-content-center p-3" onclick="event.preventDefault(); showAddEventForm()" style="min-height: 110px;">
                            <i class="fas fa-calendar-plus fs-4 mb-2"></i>
                            <span class="small text-center" data-i18n="addEvent">Ajouter un √©v√©nement</span>
                        </a>
                    </div>
                    <div class="col">
                        <a href="#" class="btn btn-red w-100 h-100 d-flex flex-column align-items-center justify-content-center p-3" onclick="event.preventDefault(); showGroceryList()" style="min-height: 110px;">
                            <i class="fas fa-shopping-basket fs-4 mb-2"></i>
                            <span class="small text-center" data-i18n="groceryList">Liste d'√©picerie</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expenses View -->
        <div id="expenses" class="view-section">
            <h1><i class="fas fa-receipt me-3 text-red-icon"></i><span data-i18n="expensesTitle">D√©penses</span></h1>
            <p class="text-muted mb-4" data-i18n="expensesSubtitle">Suivez et g√©rez vos d√©penses communes.</p>
            
            <!-- Balance Summary at Top -->
            <div class="balance-summary">
                <div class="row">
                    <div class="col-12 text-center mb-4">
                        <div class="balance-amount">+$28.75</div>
                        <div data-i18n="youAreOwedOverall">On vous doit au total</div>
                        <div class="mt-3">
                            <button class="settle-btn me-2" onclick="settleUp('owe')">
                                <i class="fas fa-exchange-alt me-1"></i><span data-i18n="settleUp">R√©gler</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Add New Expense Form -->
            <div class="add-form">
                <h3 data-i18n="addNewExpense">Ajouter une nouvelle d√©pense</h3>
                <p class="text-muted mb-4" data-i18n="expenseDetails">Entrez les d√©tails d'une d√©pense partag√©e.</p>
                <form id="expense-form">
                    <div class="row">
                        <div class="col-md-8 mb-3">
                            <label class="form-label" data-i18n="description">Description</label>
                            <input type="text" class="form-control" id="expense-description" data-i18n-placeholder="placeholderDescription" placeholder="ex: √âpicerie" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label"><span data-i18n="amount">Montant</span> ($)</label>
                            <input type="number" class="form-control" id="expense-amount" data-i18n-placeholder="placeholderAmount" placeholder="ex: 50.00" step="0.01" required>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label" data-i18n="category">Cat√©gorie</label>
                            <select class="form-select" id="expense-category">
                                <option value="" data-i18n="selectCategory">S√©lectionner une cat√©gorie</option>
                                <option value="epicerie">üõí √âpicerie</option>
                                <option value="pret-maison">üè† Pr√™t maison</option>
                                <option value="restaurants">üçΩÔ∏è Restaurants</option>
                                <option value="transport">üöó Transport</option>
                                <option value="divertissement">üé¨ Divertissement</option>
                                <option value="depenses-maison">üè° D√©penses maison</option>
                                <option value="autre">üì¶ Autre</option>
                            </select>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label" data-i18n="paidBy">Pay√© par</label>
                            <select class="form-select" id="expense-payer" required>
                                <option value="you" data-i18n="you" selected>Vous</option>
                                <option value="partner" data-i18n="partner">Partenaire</option>
                            </select>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label" data-i18n="date">Date</label>
                            <input type="date" class="form-control" id="expense-date" required>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label" data-i18n="recurrence">R√©currence</label>
                            <select class="form-select" id="expense-recurrence">
                                <option value="" data-i18n="oneTime">Unique</option>
                                <option value="weekly" data-i18n="weekly">Chaque semaine</option>
                                <option value="biweekly" data-i18n="biweekly">Toutes les 2 semaines</option>
                                <option value="monthly" data-i18n="monthly">Chaque mois</option>
                                <option value="quarterly" data-i18n="quarterly">Chaque trimestre</option>
                                <option value="yearly" data-i18n="yearly">Chaque ann√©e</option>
                            </select>
                        </div>
                        <div class="col-12 text-center">
                            <button type="submit" class="btn btn-red">
                                <i class="fas fa-plus-circle me-2"></i><span data-i18n="addExpense">Ajouter une d√©pense</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="row">
                <div class="col-md-9">
                    <div class="card">
                        <div class="card-header">
                            <span data-i18n="recentExpenses">D√©penses r√©centes</span>
                            <div>
                                <button class="export-btn me-2" onclick="exportExpenses()">
                                    <i class="fas fa-download me-1"></i><span data-i18n="export">Exporter</span>
                                </button>
                                <select class="form-select d-inline-block w-auto" id="category-filter" onchange="filterByCategory()">
                                    <option value="" data-i18n="allCategories">Toutes les cat√©gories</option>
                                    <option value="epicerie">√âpicerie</option>
                                    <option value="pret-maison">Pr√™t maison</option>
                                    <option value="restaurants">Restaurants</option>
                                    <option value="transport">Transport</option>
                                    <option value="divertissement">Divertissement</option>
                                    <option value="depenses-maison">D√©penses maison</option>
                                    <option value="autre">Autre</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="expenses-list">
                                <div class="expense-item" data-category="epicerie">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Costco</strong>
                                            <span class="category-badge category-epicerie">üõí √âpicerie</span>
                                            <br><small>Pay√© par Vous ‚Ä¢ Partag√© √©quitablement ‚Ä¢ 15/01/2024</small>
                                        </div>
                                        <div class="text-end">
                                            <div class="fw-bold">$185.50</div>
                                            <small class="text-muted">Vous devez : $92.75</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="expense-item" data-category="divertissement">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Billets de cin√©ma</strong>
                                            <span class="category-badge category-divertissement">üé¨ Divertissement</span>
                                            <br><small>Pay√© par Partenaire ‚Ä¢ Partag√© √©quitablement ‚Ä¢ 14/01/2024</small>
                                        </div>
                                        <div class="text-end">
                                            <div class="fw-bold">$28.00</div>
                                            <small class="text-success">Partenaire doit : $14.00</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="expense-item" data-category="transport">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Uber vers l'a√©roport</strong>
                                            <span class="category-badge category-transport">üöó Transport</span>
                                            <br><small>Pay√© par Vous ‚Ä¢ Partag√© √©quitablement ‚Ä¢ 12/01/2024</small>
                                        </div>
                                        <div class="text-end">
                                            <div class="fw-bold">$45.25</div>
                                            <small class="text-muted">Vous devez : $22.63</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="expense-item" data-category="depenses-maison">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Facture d'√©lectricit√©</strong>
                                            <span class="category-badge category-depenses-maison">üè° D√©penses maison</span>
                                            <br><small>Pay√© par Partenaire ‚Ä¢ Partag√© √©quitablement ‚Ä¢ 10/01/2024</small>
                                        </div>
                                        <div class="text-end">
                                            <div class="fw-bold">$120.00</div>
                                            <small class="text-success">Partenaire doit : $60.00</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="expense-item" data-category="restaurants">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Restaurant italien</strong>
                                            <span class="category-badge category-restaurants">üçΩÔ∏è Restaurants</span>
                                            <br><small>Pay√© par Vous ‚Ä¢ Partag√© √©quitablement ‚Ä¢ 08/01/2024</small>
                                        </div>
                                        <div class="text-end">
                                            <div class="fw-bold">$67.80</div>
                                            <small class="text-muted">Vous devez : $33.90</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card">
                        <div class="card-header">
                            <span data-i18n="categoryBreakdown">R√©partition par cat√©gorie</span>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <div class="d-flex justify-content-between">
                                    <span class="category-badge category-epicerie">üõí √âpicerie</span>
                                    <strong>$118.50</strong>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between">
                                    <span class="category-badge category-restaurants">üçΩÔ∏è Restaurants</span>
                                    <strong>$67.80</strong>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between">
                                    <span class="category-badge category-divertissement">üé¨ Divertissement</span>
                                    <strong>$28.00</strong>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between">
                                    <span class="category-badge category-transport">üöó Transport</span>
                                    <strong>$45.25</strong>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between">
                                    <span class="category-badge category-depenses-maison">üè° D√©penses maison</span>
                                    <strong>$120.00</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calendar View -->
        <div id="calendar" class="view-section">
            <h1><i class="fas fa-calendar-alt me-3 text-red-icon"></i><span data-i18n="calendar">Calendrier</span></h1>
            <p class="text-muted mb-4" data-i18n="calendarSubtitle">Planifiez et visualisez vos √©v√©nements communs.</p>

            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="calendar-widget">
                        <h3 class="mb-3" data-i18n="calendarView">Vue du calendrier</h3>
                        <div class="calendar-header">
                            <button class="calendar-nav" onclick="changeMonth(-1)">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <div class="calendar-title" id="calendar-title">Calendrier</div>
                            <button class="calendar-nav" onclick="changeMonth(1)">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Calendar will be generated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Add Event Form Below Calendar -->
                    <div class="event-form">
                        <h4 class="mb-3" data-i18n="addNewEvent">Ajouter un nouvel √©v√©nement</h4>
                        <form id="event-form">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-i18n="eventName">Nom de l'√©v√©nement</label>
                                    <input type="text" class="form-control" id="event-name" data-i18n-placeholder="placeholderEvent" placeholder="ex: D√Æner romantique" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-i18n="date">Date</label>
                                    <input type="date" class="form-control" id="event-date" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-i18n="timeOptional">Heure (optionnelle)</label>
                                    <input type="time" class="form-control" id="event-time">
                                </div>
                                <div class="col-12 mb-3">
                                    <label class="form-label" data-i18n="descriptionOptional">Description (optionnelle)</label>
                                    <textarea class="form-control" id="event-description" rows="2" data-i18n-placeholder="additionalDetails" placeholder="D√©tails suppl√©mentaires..."></textarea>
                                </div>
                                <div class="col-12 mb-3 text-center">
                                    <button type="submit" class="btn btn-red">
                                        <i class="fas fa-plus-circle me-2"></i><span data-i18n="addEvent">Ajouter un √©v√©nement</span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <span data-i18n="upcomingEvents">√âv√©nements √† venir</span>
                        </div>
                        <div class="card-body">
                            <div id="events-list">
                                <!-- Les √©v√©nements r√©els seront ajout√©s ici par JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Grocery View -->
        <div id="grocery" class="view-section">
            <h1 class="mb-4"><i class="fas fa-shopping-cart me-3"></i><span data-i18n="groceryList">Liste d'√©picerie</span></h1>
            <p class="text-muted mb-4" data-i18n="grocerySubtitle">G√©rez votre liste de courses partag√©e.</p>

            <div class="grocery-header">
                <div class="grocery-header-content">
                    <h2><i class="fas fa-list me-2"></i><span data-i18n="shoppingList">Liste de courses</span></h2>
                    <div class="grocery-filter d-none d-md-block">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="fas fa-filter me-1"></i>Toutes
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('all')">Toutes</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('fruits-legumes')">Fruits/L√©gumes</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('boulangerie')">Boulangerie</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('viandes')">Viandes</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('congeles')">Congel√©s</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('laitiers')">Laitiers</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('epicerie')">√âpicerie</a></li>
                            <li><a class="dropdown-item" href="#" onclick="filterGroceryByCategory('autre')">Autre</a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="grocery-content">
                <form id="grocery-form" class="grocery-form">
                    <div class="form-group">
                        <label class="form-label" data-i18n="item">Article</label>
                        <input type="text" class="form-control" id="grocery-item" placeholder="ex: Lait, Pain..." required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="category">Cat√©gorie</label>
                        <select class="form-select" id="grocery-category">
                            <option value="" data-i18n="autoDetect">D√©tection auto</option>
                            <option value="fruits-legumes">Fruits/L√©gumes</option>
                            <option value="boulangerie">Boulangerie</option>
                            <option value="viandes">Viandes</option>
                            <option value="congeles">Congel√©s</option>
                            <option value="laitiers">Laitiers</option>
                            <option value="epicerie">√âpicerie</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-red">
                            <i class="fas fa-plus me-2"></i><span data-i18n="addItem">Ajouter l'article</span>
                        </button>
                    </div>
                </form>

                <div id="grocery-list">
                    <!-- Items will be grouped by category -->
                </div>
            </div>

            <!-- Export button (at bottom) -->
            <div class="grocery-export mt-4">
                <button class="btn btn-red w-100" onclick="exportGroceryList()">
                    <i class="fas fa-download me-2"></i><span data-i18n="exportList">Exporter la liste</span>
                </button>
            </div>
        </div>

        <!-- Lists View -->
        <div id="lists" class="view-section">
            <h1 class="mb-4"><i class="fas fa-list me-3"></i><span data-i18n="lists">Listes</span></h1>
            <p class="text-muted mb-4" data-i18n="listsSubtitle">Cr√©ez et g√©rez vos listes partag√©es.</p>

            <div class="add-form">
                <h3 data-i18n="createNewList">Cr√©er une nouvelle liste</h3>
                <form id="custom-list-form">
                    <div class="row">
                        <div class="col-md-8 mb-3">
                            <label class="form-label" data-i18n="listName">Nom de la liste</label>
                            <input type="text" class="form-control" id="custom-list-name" data-i18n-placeholder="placeholderListName" placeholder="ex: Plans de week-end, Id√©es cadeaux, Destinations de r√™ve" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <button type="submit" class="btn btn-red mt-4">
                                <i class="fas fa-plus-circle me-2"></i><span data-i18n="createList">Cr√©er la liste</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="row" id="custom-lists-container">
                <!-- Todo List -->
                <div class="col-lg-6 mb-4">
                    <div class="card">
                        <div class="card-header">
                            <span>‚úÖ T√¢ches</span>
                            <div class="dropdown">
                                <button class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown">
                                    <i class="fas fa-plus"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" onclick="addCustomItem('todos', 'text')"><i class="fas fa-text-width me-2"></i><span data-i18n="addText">Ajouter du texte</span></a></li>
                                    <li><a class="dropdown-item" href="#" onclick="addCustomItem('todos', 'link')"><i class="fas fa-link me-2"></i><span data-i18n="addLink">Ajouter un lien</span></a></li>
                                    <li><a class="dropdown-item" href="#" onclick="addCustomItem('todos', 'image')"><i class="fas fa-image me-2"></i><span data-i18n="addImage">Ajouter une image</span></a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="todos-list" class="custom-list">
                                <div class="custom-item">
                                    <div class="custom-item-content">
                                        <strong>Faire les courses</strong>
                                        <br><small class="text-muted">Acheter les ingr√©dients pour le d√Æner</small>
                                    </div>
                                    <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="custom-item">
                                    <div class="custom-item-content">
                                        <strong>R√©server le restaurant</strong>
                                        <br><small class="text-muted">Pour l'anniversaire de samedi</small>
                                    </div>
                                    <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="custom-item">
                                    <div class="custom-item-content">
                                        <strong>Nettoyer l'appartement</strong>
                                        <br><small class="text-muted">Aspirateur et m√©nage g√©n√©ral</small>
                                    </div>
                                    <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="custom-item">
                                    <div class="custom-item-content">
                                        <strong>Pr√©parer cadeau d'anniversaire</strong>
                                        <br><small class="text-muted">Emballer le cadeau et √©crire la carte</small>
                                    </div>
                                    <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                    <!-- Recipes List -->
                    <div class="col-lg-6 mb-4">
                        <div class="card">
                            <div class="card-header">
                                <span>üë©‚Äçüç≥ Recettes</span>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('recipes', 'text')"><i class="fas fa-text-width me-2"></i><span data-i18n="addText">Ajouter du texte</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('recipes', 'link')"><i class="fas fa-link me-2"></i><span data-i18n="addLink">Ajouter un lien</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('recipes', 'image')"><i class="fas fa-image me-2"></i><span data-i18n="addImage">Ajouter une image</span></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="recipes-list" class="custom-list">
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <a href="https://www.marmiton.org/recettes/recette_risotto-aux-champignons_15590.aspx" target="_blank" class="text-decoration-none">
                                                <strong>Risotto aux champignons</strong>
                                                <i class="fas fa-external-link-alt ms-2 small"></i>
                                            </a>
                                            <br><small class="text-muted">Plat principal ‚Ä¢ 30 min ‚Ä¢ Romantique</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>Tiramisu maison</strong>
                                            <br><small class="text-muted">Dessert ‚Ä¢ 4h (repos) ‚Ä¢ Facile</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <a href="https://www.cuisineaz.com/recettes/saumon-grille-legumes-103924.aspx" target="_blank" class="text-decoration-none">
                                                <strong>Saumon grill√© aux l√©gumes</strong>
                                                <i class="fas fa-external-link-alt ms-2 small"></i>
                                            </a>
                                            <br><small class="text-muted">Plat principal ‚Ä¢ 25 min ‚Ä¢ Healthy</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Movies to Watch List -->
                    <div class="col-lg-6 mb-4">
                        <div class="card">
                            <div class="card-header">
                                <span>üé¨ Films √† regarder</span>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('movies', 'text')"><i class="fas fa-text-width me-2"></i><span data-i18n="addText">Ajouter du texte</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('movies', 'link')"><i class="fas fa-link me-2"></i><span data-i18n="addLink">Ajouter un lien</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('movies', 'image')"><i class="fas fa-image me-2"></i><span data-i18n="addImage">Ajouter une image</span></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="movies-list" class="custom-list">
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <a href="https://www.imdb.com/title/tt1375666/" target="_blank" class="text-decoration-none">
                                                <strong>Inception</strong>
                                                <i class="fas fa-external-link-alt ms-2 small"></i>
                                            </a>
                                            <br><small class="text-muted">Science-fiction ‚Ä¢ 2010</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>La La Land</strong>
                                            <br><small class="text-muted">Romance ‚Ä¢ Musical ‚Ä¢ 2016</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>The Grand Budapest Hotel</strong>
                                            <br><small class="text-muted">Com√©die ‚Ä¢ 2014</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Travel Destinations List -->
                    <div class="col-lg-6 mb-4">
                        <div class="card">
                            <div class="card-header">
                                <span>‚úàÔ∏è Destinations de voyage</span>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('travel', 'text')"><i class="fas fa-text-width me-2"></i><span data-i18n="addText">Ajouter du texte</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('travel', 'link')"><i class="fas fa-link me-2"></i><span data-i18n="addLink">Ajouter un lien</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('travel', 'image')"><i class="fas fa-image me-2"></i><span data-i18n="addImage">Ajouter une image</span></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="travel-list" class="custom-list">
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <a href="https://www.visitgreece.gr/en/greek_islands/cyclades/santorini" target="_blank" class="text-decoration-none">
                                                <strong>Santorini, Gr√®ce</strong>
                                                <i class="fas fa-external-link-alt ms-2 small"></i>
                                            </a>
                                            <br><small class="text-muted">Couchers de soleil romantiques ‚Ä¢ √ât√© 2024</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>Kyoto, Japon</strong>
                                            <br><small class="text-muted">Temples et jardins zen ‚Ä¢ Printemps 2025</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>Toscane, Italie</strong>
                                            <br><small class="text-muted">Vignobles et paysages ‚Ä¢ Automne 2024</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gift Ideas List -->
                    <div class="col-lg-6 mb-4">
                        <div class="card">
                            <div class="card-header">
                                <span>üéÅ Id√©es cadeaux</span>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('gifts', 'text')"><i class="fas fa-text-width me-2"></i><span data-i18n="addText">Ajouter du texte</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('gifts', 'link')"><i class="fas fa-link me-2"></i><span data-i18n="addLink">Ajouter un lien</span></a></li>
                                        <li><a class="dropdown-item" href="#" onclick="addCustomItem('gifts', 'image')"><i class="fas fa-image me-2"></i><span data-i18n="addImage">Ajouter une image</span></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="gifts-list" class="custom-list">
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <a href="https://www.apple.com/watch/" target="_blank" class="text-decoration-none">
                                                <strong>Montre connect√©e</strong>
                                                <i class="fas fa-external-link-alt ms-2 small"></i>
                                            </a>
                                            <br><small class="text-muted">Apple Watch ou Samsung ‚Ä¢ Anniversaire</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>Weekend spa</strong>
                                            <br><small class="text-muted">Massage couples ‚Ä¢ Saint-Valentin</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="custom-item">
                                        <div class="custom-item-content">
                                            <strong>Cours de cuisine</strong>
                                            <br><small class="text-muted">Cuisine italienne ‚Ä¢ En couple</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger" onclick="removeCustomItem(this)">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>




    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="i18n.js"></script>
    <script src="app.js"></script>
</body>
</html>
 